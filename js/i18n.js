"use strict";const i18n=self.browser instanceof Object&&self.browser instanceof Element==!1?self.browser.i18n:self.chrome.i18n,i18n$=(...e)=>i18n.getMessage(...e),isBackgroundProcess="uBlock Origin Background Page"===document.title;if(!0!==isBackgroundProcess){document.body.setAttribute("dir",-1!==["ar","he","fa","ps","ur"].indexOf(i18n$("@@ui_locale"))?"rtl":"ltr");const e=new Set(["a","b","code","em","i","span","u"]),t=(()=>{const e=new Map([["&shy;","¬≠"],["&ldquo;","‚Äú"],["&rdquo;","‚Äù"],["&lsquo;","‚Äò"],["&rsquo;","‚Äô"],["&lt;","<"],["&gt;",">"]]),t=t=>e.get(t)||t;return function(e){return-1!==e.indexOf("&")&&(e=e.replace(/&[a-z]+;/g,t)),e}})(),n=function(e){return document.createTextNode(t(e))},r=function(t){if(!1===e.has(t.localName))return null;t.removeAttribute("style");let n=t.firstElementChild;for(;null!==n;){const e=n.nextElementSibling;null===r(n)&&n.remove(),n=e}return t},i=function(e,t){if(""===e)return;if(-1===e.indexOf("<")){const r=n(e);let i=0!==t.childCount?t.firstChild:null;for(;null!==i&&(3!==i.nodeType||"_"!==i.nodeValue);)i=i.nextSibling;return void(null!==i?t.replaceChild(r,i):t.appendChild(r))}e=e.replace(/^<p>|<\/p>/g,"").replace(/<p>/g,"\n\n");let i=(new DOMParser).parseFromString(e,"text/html").body.firstChild;for(;null!==i;){const e=i.nextSibling;switch(i.nodeType){case 1:if(null===r(i))break;t.appendChild(i);break;case 3:t.appendChild(i)}i=e}};i18n.safeTemplateToDOM=function(e,t,n){void 0===n&&(n=document.createDocumentFragment());let r=i18n$(e);if(""===r)return n;if(-1===r.indexOf("{{"))return i(r,n),n;const l=/\{\{\w+\}\}/g;let o="";for(;;){let e=l.exec(r);if(null===e){o+=r;break}o+=r.slice(0,e.index);let n=e[0].slice(2,-2);t.hasOwnProperty(n)?o+=t[n].replace(/</g,"&lt;").replace(/>/g,"&gt;"):o+=n,r=r.slice(l.lastIndex)}return i(o,n),n},i18n.render=function(e){const n=document,r=e||n;for(const e of r.querySelectorAll("[data-i18n]")){let t=i18n$(e.getAttribute("data-i18n"));if(!t)continue;if(-1===t.indexOf("{{")){i(t,e);continue}const n=t.split(/(\{\{[^}]+\}\})/),r=document.createDocumentFragment();let l="";for(let t of n)if(""!==t){if(t.startsWith("{{")&&t.endsWith("}}")){const n=t.indexOf(":");-1!==n&&(t=t.slice(0,n)+t.slice(-2));const o=t.slice(2,-2);let a;if(46!==o.charCodeAt(0)&&(a=e.querySelector(`.${o}`)),a instanceof Element==!1&&(a=e.querySelector(o)),a instanceof Element){i(l,r),r.appendChild(a),l="";continue}}l+=t}""!==l&&i(l,r),e.appendChild(r)}for(const e of r.querySelectorAll("[data-i18n-title]")){const n=i18n$(e.getAttribute("data-i18n-title"));n&&e.setAttribute("title",t(n))}for(const e of r.querySelectorAll("[placeholder]")){const t=i18n$(e.getAttribute("placeholder"));""!==t&&e.setAttribute("placeholder",t)}for(const e of r.querySelectorAll("[data-i18n-tip]")){const t=i18n$(e.getAttribute("data-i18n-tip")).replace(/<br>/g,"\n").replace(/\n{3,}/g,"\n\n");e.setAttribute("data-tip",t),"data-tip"===e.getAttribute("aria-label")&&e.setAttribute("aria-label",t)}},i18n.renderElapsedTimeToString=function(e){let t=(Date.now()-e)/6e4;return t<2?i18n$("elapsedOneMinuteAgo"):t<60?i18n$("elapsedManyMinutesAgo").replace("{{value}}",Math.floor(t).toLocaleString()):(t/=60,t<2?i18n$("elapsedOneHourAgo"):t<24?i18n$("elapsedManyHoursAgo").replace("{{value}}",Math.floor(t).toLocaleString()):(t/=24,t<2?i18n$("elapsedOneDayAgo"):i18n$("elapsedManyDaysAgo").replace("{{value}}",Math.floor(t).toLocaleString())))};const l=new Map([["üá¶üá±","al"],["üá¶üá∑","ar"],["üá¶üáπ","at"],["üáßüá¶","ba"],["üáßüá¨","bg"],["üáßüá∑","br"],["üá®üá¶","ca"],["üá®üá≠","ch"],["üá®üá≥","cn"],["üá®üá¥","co"],["üá®üáæ","cy"],["üá®üáø","cz"],["üá©üá™","de"],["üá©üá∞","dk"],["üá©üáø","dz"],["üá™üá™","ee"],["üá™üá¨","eg"],["üá™üá∏","es"],["üá´üáÆ","fi"],["üá´üá¥","fo"],["üá´üá∑","fr"],["üá¨üá∑","gr"],["üá≠üá∑","hr"],["üá≠üá∫","hu"],["üáÆüá©","id"],["üáÆüá±","il"],["üáÆüá≥","in"],["üáÆüá∑","ir"],["üáÆüá∏","is"],["üáÆüáπ","it"],["üáØüáµ","jp"],["üá∞üá∑","kr"],["üá∞üáø","kz"],["üá±üá∞","lk"],["üá±üáπ","lt"],["üá±üáª","lv"],["üá≤üá¶","ma"],["üá≤üá©","md"],["üá≤üá∞","mk"],["üá≤üáΩ","mx"],["üá≤üáæ","my"],["üá≥üá±","nl"],["üá≥üá¥","no"],["üá≥üáµ","np"],["üáµüá±","pl"],["üáµüáπ","pt"],["üá∑üá¥","ro"],["üá∑üá∏","rs"],["üá∑üá∫","ru"],["üá∏üá¶","sa"],["üá∏üáÆ","si"],["üá∏üá∞","sk"],["üá∏üá™","se"],["üá∏üá∑","sr"],["üáπüá≠","th"],["üáπüáØ","tj"],["üáπüáº","tw"],["üáπüá∑","tr"],["üá∫üá¶","ua"],["üá∫üáø","uz"],["üáªüá≥","vn"],["üáΩüá∞","xk"]]),o=new RegExp(Array.from(l).map((e=>e[0])).join("|"),"gu");i18n.patchUnicodeFlags=function(e){const t=document.createDocumentFragment();let n=0;for(;;){const r=o.exec(e);if(null===r)break;r.index>n&&t.append(e.slice(n,r.index));const i=document.createElement("img"),a=l.get(r[0]);i.src=`/img/flags-of-the-world/${a}.png`,i.title=a,i.classList.add("countryFlag"),t.append(i,"‚Ää"),n=o.lastIndex}return n<e.length&&t.append(e.slice(n)),t},i18n.render()}export{i18n,i18n$};